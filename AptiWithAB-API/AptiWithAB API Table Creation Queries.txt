CREATE TABLE TEST (
	ID NUMBER(10) PRIMARY KEY,
	NAME VARCHAR2(50) NOT NULL UNIQUE,
	CREATEDBY VARCHAR2(50) NOT NULL,
	DURATION NUMBER(3) NOT NULL,
	NOOFQUESTIONS NUMBER(4) NOT NULL
);

CREATE TABLE SCHEDULE (
	ID NUMBER(10) PRIMARY KEY,
	TID NUMBER(10) REFERENCES TEST,
	TDATE DATE NOT NULL,
	ISCONDUCTED VARCHAR2(1) NOT NULL
);

CREATE TABLE STUDENT (
	PRN NUMBER(10) PRIMARY KEY,
	NAME VARCHAR2(50) NOT NULL,
	BRANCH VARCHAR2(50) NOT NULL,
	EMAIL VARCHAR2(80) NOT NULL,
	CONTACTNO NUMBER(15) NOT NULL,
	PASSWORD VARCHAR2(50) NOT NULL
);

CREATE TABLE RESULT (
	ID NUMBER(15) PRIMARY KEY,
	PRN NUMBER(10) REFERENCES STUDENT,
	TID NUMBER(10) REFERENCES TEST,
	MARKS NUMBER(10, 2) NOT NULL,
	GRADE VARCHAR2(2) NOT NULL,
	TDATE DATE NOT NULL
);

CREATE TABLE QUESTION (
	NO NUMBER(6) PRIMARY KEY,
	TYPE VARCHAR2(50) NOT NULL,
	STATEMENT VARCHAR2(1000) NOT NULL,
	ANSWER VARCHAR2(500) NOT NULL,
	IMAGEURL varchar2(500)
);

CREATE TABLE OPTIONS (
	NO NUMBER(6) REFERENCES QUESTION,
	OPTNO NUMBER(1) NOT NULL,
	OPTION VARCHAR2(500) NOT NULL
);

CREATE TABLE FETCH_QUESTION (
	ID NUMBER(6) PRIMARY KEY,
	TID NUMBER(10) REFERENCES TEST,
	NO NUMBER(6) REFERENCES QUESTION,
	MARKS NUMBER(1) NOT NULL
);

FETCH_QUESTION
SELECT Q.NO, Q.TYPE, Q.STATEMENT, Q.ANSWER, FQ.MARKS FROM QUESTION Q, FETCH_QUESTION FQ WHERE Q.NO = FQ.NO AND TID = ?
SELECT Q.NO, Q.TYPE, Q.STATEMENT, Q.ANSWER, FQ.MARKS FROM QUESTION Q, FETCH_QUESTION FQ WHERE Q.NO = FQ.NO AND FQ.TID = ? AND FQ.NO = ?
INSERT INTO FETCH_QUESTION VALUES (fetchquestion_seq.NEXT_VAL, ?, ?, ?);
UPDATE FETCH_QUESTION SET MARKS = ? WHERE TID = ? AND NO = ?;